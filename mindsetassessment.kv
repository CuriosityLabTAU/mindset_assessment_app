#:kivy 1.0
#:import kivy kivy
#:import win kivy.core.window

<SetupScreenRoom>:
    name: 'setup_screen_room'
    Widget:
        TextInput:
            id: roscore_ip
            name: 'roscore_ip'
            text: '192.168.122.1'
            text: '132.66.50.139'
            text: '192.168.1.113'
            font_size: 16 * root.width/800
            multiline: False
            size: root.width * 0.4, root.height * 0.07
            pos: root.width * 0.18, root.height * 0.8 - self.height * 0.5

        Button:
            id: connect_button
            name: 'connect_button'
            background_color: 0.1,0.5,0.2,1
            background_normal: ''
            text: 'Connect'
            font_size: 16 * root.width/800
            size: root.width * 0.15, root.height * 0.07
            pos: root.width * 0.62, root.height * 0.8 - self.height * 0.5
            on_press: app.press_connect_button(roscore_ip.text)

        Button:
            id: skip_button
            name: 'skip_button'
            background_color: 0.5,0.5,0.5,1
            background_normal: ''
            text: 'Skip ROS Connection'
            font_size: 16 * root.width/800
            size: root.width * 0.25, root.height * 0.07
            pos: root.width * 0.5 - self.width * 0.5, root.height * 0.6
            on_press: app.press_connect_button('')

<ZeroScreen>:
    start_button_pre: start_button_pre
    start_button_post: start_button_post
    subject_id: subject_id
    subject_initial: subject_initial
    name: 'zero_screen'
    Widget:
        LoggedButton:
            id: start_button_pre
            name: 'start_button_pre'
            background_color: 1,0,1,1
            background_normal: ''
            text: 'Start Pre'
            font_size: 16 * root.width/800
            size: root.width * 0.175, root.height * 0.1
            pos: root.width * 0.5 - self.width * 1.5, root.height * 0.5 - self.height * 0.5
            on_press: app.start_assessment(1, subject_id.text, subject_initial.text)

        LoggedButton:
            id: start_button_post
            name: 'start_button_post'
            background_color: 1,0,1,1
            background_normal: ''
            text: 'Start Post'
            font_size: 16 * root.width/800
            size: root.width * 0.175, root.height * 0.1
            pos: root.width * 0.5 + self.width * 0.5, root.height * 0.5 - self.height * 0.5
            on_press: app.start_assessment(2, subject_id.text, subject_initial.text)

        Label:
            text: "Subject ID:"
            font_size: 16 * root.width/800
            size: root.width * 0.1, root.height * 0.1
            pos: root.width * 0.06 , root.height * 0.78

        LoggedTextInput:
            id: subject_id
            name: 'subject_id'
            text: 'p'
            font_size: 16 * root.width/800
            size: root.width * 0.4, root.height * 0.1
            pos: root.width * 0.5 - self.width * 1.1, root.height * 0.75 - self.height * 0.5
            multiline: False

        Label:
            text: "Subject Initial:"
            font_size: 16 * root.width/800
            size: root.width * 0.13, root.height * 0.1
            pos: root.width * 0.54, root.height * 0.78

        LoggedTextInput:
            id: subject_initial
            name: 'subject_initial'
            text: ''
            font_size: 16 * root.width/800
            size: root.width * 0.4, root.height * 0.1
            pos: root.width * 0.5 + self.width * 0.1, root.height * 0.75 - self.height * 0.5
            multiline: False

<QuestionScreen>
    name: 'question_screen'
    Widget:
        id: left_circle
        size: root.width * 0.12, root.width * 0.12
        pos: root.width * 0.2 - self.width * 0.5, root.height * 0.6
        size_hint_x: None
        size_hint_y: None
        canvas.after:
            Color:
                rgba: 0,1,0,1
            Ellipse:
                pos: self.pos
                size: self.size

    Widget:
        id: right_circle
        size: root.width * 0.12, root.width * 0.12
        pos: root.width * 0.8 - self.width * 0.5, root.height * 0.6
        size_hint_x: None
        size_hint_y: None
        canvas.after:
            Color:
                rgba: 0,0,1,1
            Ellipse:
                pos: self.pos
                size: self.size
    Widget:
        id: the_buttons
        LoggedButton:
            id: A_button
            name: 'A'
            size: root.width * 0.5 * 288.0 / 500.0, root.width * 0.5 * 360.0 / 500.0
            pos: root.width * 0.80 - self.width * 0.5, root.height * 0.10
            on_press: root.pressed(self.name, self)
            background_normal: 'images/Buffy_glow.gif'
            background_disabled_normal: 'images/Buffy.gif'
            background_disabled_down: 'images/Buffy.gif'
            background_down: 'images/Buffy_down.gif'

        LoggedButton:
            id: B_button
            name: 'B'
            size: root.width * 0.5 * 288.0 / 500.0, root.width * 0.5 * 360.0 / 500.0
            pos: root.width * 0.20 - self.width * 0.5, root.height * 0.10
            on_press: root.pressed(self.name, self)
            background_normal: 'images/Fluffy_glow.gif'
            background_disabled_normal: 'images/Fluffy.gif'
            background_disabled_down: 'images/Fluffy.gif'
            background_down: 'images/Fluffy_down.gif'

        LoggedButton:
            id: play_again
            name: 'play_again'
            size: root.width * 0.05, root.width * 0.05
            allow_stretch: True
            pos: root.width * 0.5 - self.width*0.5, root.height * 0.75
            on_press: root.pressed_play_again()
            background_normal: 'images/play_again.png'
            background_disabled_normal: 'images/play_again.png'
            background_disabled_down: 'images/play_again.png'
            background_down: 'images/play_again.png'
            opacity: 0

        Label:
            id: the_end
            text: "Thank You !!!"
            font_size:80
            color: 1,0,1,1
            pos: root.width * 0.5, root.height * 0.8
            opacity: 0
